# Integrating AWS Services to Lambda Functions

On a daily basis, our Lambda functions frequently interact with various AWS services. With AWS offering over 200 services, connecting these functions to leverage different services, creating triggers, and assigning the proper permissions can be quite challenging. To address this complexity and to create a scalable architecture that can evolve over time, Lambda Forge employs dependency injection. This approach injects each service with its single responsibility into our functions, simplifying management and enhancing scalability.

## The Services Class

Every AWS resources is defined in separate classes within the `infra/services` folder. When you initiate a new project using `forge project`, this directory is automatically created and populated with two service directories: `api_gateway` and `aws_lambda`. Each file contains template code to facilitate the creation of a Lambda function and its integration with API Gateway.

```
infra
└── services
    ├── __init__.py
    ├── api_gateway.py
    └── aws_lambda.py
```


Within the `infra/services/__init__.py` file, you'll find the `Services` class, a comprehensive resource manager designed to streamline the interaction with AWS services. This class acts as a dependency injector, enabling the easy and efficient configuration of AWS resources.

```python title="infra/services/__init__.py"
from infra.services.api_gateway import APIGateway
from infra.services.aws_lambda import AWSLambda

class Services:

    def __init__(self, scope, context) -> None:
        self.api_gateway = APIGateway(scope, context)
        self.aws_lambda = AWSLambda(scope, context)
```

## Creating AWS Services

Lambda Forge provides some AWS service classes with boilerplate code commonly used with Lambda functions. You can easily create these classes using the command:

`$forge service $SERVICE`

For example, to create a class for handling DynamoDB configurations, simply run the command `forge service dynamodb`. This command will automatically update your folder structure as follows:

```hl_lines="6"
infra
└── services
    ├── __init__.py
    ├── api_gateway.py
    ├── aws_lambda.py
    └── dynamodb.py
```

You have the flexibility to use the `DynamoDB` class generated by Lambda Forge or create your own class to manage the configurations related to that service. The classes provided by Lambda Forge already include some boilerplate code, which streamlines the process of working with that service.

==Keep in mind that while AWS offers over 200 services, Lambda Forge does not provide encapsulation for every AWS service by default. However, you can easily create your own custom classes using AWS CDK to handle these responsibilities.== Simply follow the architecture provided by Lambda Forge, which adheres to the Single Responsibility Principle and Dependency Injection. By doing so, you can seamlessly integrate your custom service classes into the existing framework.






